--
-- PostgreSQL database dump
--


-- Dumped from database version 18.1
-- Dumped by pg_dump version 18.1

-- Started on 2026-02-24 13:50:52

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2 (class 3079 OID 24576)
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- TOC entry 5205 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 256 (class 1259 OID 25067)
-- Name: app_settings; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_settings (
    key text NOT NULL,
    value text NOT NULL,
    updated_at timestamp with time zone DEFAULT now()
);


ALTER TABLE public.app_settings OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 16421)
-- Name: customer_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.customer_user (
    customer_id integer NOT NULL,
    first_name character varying,
    last_name character varying,
    middle_name character varying,
    company_name character varying,
    email character varying,
    phone character varying,
    landline character varying,
    username character varying,
    password character varying,
    verification_status character varying,
    approved boolean,
    verified_at timestamp without time zone,
    verified_by integer,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    initial_model_number text,
    initial_serial_number text,
    initial_purchase_date date,
    initial_product_name text,
    initial_product_id integer
);


ALTER TABLE public.customer_user OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 16420)
-- Name: customer_user_customer_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.customer_user ALTER COLUMN customer_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.customer_user_customer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 225 (class 1259 OID 16412)
-- Name: department; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.department (
    dept_id integer NOT NULL,
    dept_name character varying
);


ALTER TABLE public.department OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 16411)
-- Name: department_dept_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.department ALTER COLUMN dept_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.department_dept_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 254 (class 1259 OID 24648)
-- Name: department_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.department_permission (
    department_id integer NOT NULL,
    permission_key text NOT NULL,
    allowed boolean DEFAULT false NOT NULL,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.department_permission OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16390)
-- Name: employee; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.employee (
    employee_id integer NOT NULL,
    firstname character varying,
    lastname character varying,
    middlename character varying,
    role_id integer,
    department_id integer,
    username character varying,
    password character varying,
    email character varying,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


ALTER TABLE public.employee OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16389)
-- Name: employee_employee_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.employee ALTER COLUMN employee_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.employee_employee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 255 (class 1259 OID 24666)
-- Name: employee_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.employee_permission (
    employee_id integer NOT NULL,
    permission_key text NOT NULL,
    allowed boolean NOT NULL,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.employee_permission OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 16481)
-- Name: machine_brochures; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.machine_brochures (
    brochure_id integer NOT NULL,
    machine_id integer,
    title character varying,
    file_url character varying,
    uploaded_at timestamp without time zone,
    product_id integer
);


ALTER TABLE public.machine_brochures OWNER TO postgres;

--
-- TOC entry 238 (class 1259 OID 16480)
-- Name: machine_brochures_brochure_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.machine_brochures ALTER COLUMN brochure_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.machine_brochures_brochure_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 237 (class 1259 OID 16472)
-- Name: machine_gallery; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.machine_gallery (
    gallery_id integer NOT NULL,
    machine_id integer,
    image_url character varying,
    caption character varying,
    uploaded_at timestamp without time zone,
    product_id integer
);


ALTER TABLE public.machine_gallery OWNER TO postgres;

--
-- TOC entry 5206 (class 0 OID 0)
-- Dependencies: 237
-- Name: COLUMN machine_gallery.image_url; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.machine_gallery.image_url IS 'Full image URL (https) or storage path; used for display/embed';


--
-- TOC entry 236 (class 1259 OID 16471)
-- Name: machine_gallery_gallery_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.machine_gallery ALTER COLUMN gallery_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.machine_gallery_gallery_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 235 (class 1259 OID 16463)
-- Name: machine_manuals; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.machine_manuals (
    manual_id integer NOT NULL,
    machine_id integer,
    title character varying,
    file_url character varying,
    uploaded_at timestamp without time zone,
    product_id integer
);


ALTER TABLE public.machine_manuals OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 16462)
-- Name: machine_manuals_manual_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.machine_manuals ALTER COLUMN manual_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.machine_manuals_manual_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 243 (class 1259 OID 16499)
-- Name: machine_specifications; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.machine_specifications (
    spec_id integer NOT NULL,
    machine_id integer,
    spec_name character varying,
    spec_value character varying,
    product_id integer,
    file_url character varying,
    uploaded_at timestamp without time zone
);


ALTER TABLE public.machine_specifications OWNER TO postgres;

--
-- TOC entry 242 (class 1259 OID 16498)
-- Name: machine_specifications_spec_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.machine_specifications ALTER COLUMN spec_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.machine_specifications_spec_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 241 (class 1259 OID 16490)
-- Name: machine_videos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.machine_videos (
    video_id integer NOT NULL,
    machine_id integer,
    video_type character varying,
    title character varying,
    video_url character varying,
    uploaded_at timestamp without time zone,
    product_id integer
);


ALTER TABLE public.machine_videos OWNER TO postgres;

--
-- TOC entry 5207 (class 0 OID 0)
-- Dependencies: 241
-- Name: COLUMN machine_videos.video_url; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.machine_videos.video_url IS 'Full video URL (YouTube, direct MP4, etc.) or storage path; used for display/embed';


--
-- TOC entry 240 (class 1259 OID 16489)
-- Name: machine_videos_video_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.machine_videos ALTER COLUMN video_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.machine_videos_video_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 16443)
-- Name: machines; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.machines (
    machine_id integer NOT NULL,
    customer_id integer,
    product_id integer,
    serial_number character varying,
    model_number character varying,
    purchase_date timestamp without time zone,
    registration_date timestamp without time zone,
    status character varying,
    created_at timestamp without time zone
);


ALTER TABLE public.machines OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 16442)
-- Name: machines_machine_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.machines ALTER COLUMN machine_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.machines_machine_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 233 (class 1259 OID 16454)
-- Name: parts; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.parts (
    parts_id integer NOT NULL,
    parts_name character varying,
    product_id integer,
    description character varying,
    price numeric,
    stock_quantity integer,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


ALTER TABLE public.parts OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 16453)
-- Name: parts_parts_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.parts ALTER COLUMN parts_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.parts_parts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 245 (class 1259 OID 16508)
-- Name: parts_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.parts_request (
    request_id integer NOT NULL,
    customer_id integer,
    machine_id integer,
    status character varying,
    payment_verified boolean,
    payment_proof_url character varying,
    verified_by integer,
    call_verified boolean,
    call_verified_at timestamp without time zone,
    total_amount numeric,
    notes character varying,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


ALTER TABLE public.parts_request OWNER TO postgres;

--
-- TOC entry 247 (class 1259 OID 16517)
-- Name: parts_request_items; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.parts_request_items (
    item_id integer NOT NULL,
    request_id integer,
    parts_id integer,
    quantity integer,
    unit_price numeric,
    subtotal numeric
);


ALTER TABLE public.parts_request_items OWNER TO postgres;

--
-- TOC entry 246 (class 1259 OID 16516)
-- Name: parts_request_items_item_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.parts_request_items ALTER COLUMN item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.parts_request_items_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 244 (class 1259 OID 16507)
-- Name: parts_request_request_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.parts_request ALTER COLUMN request_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.parts_request_request_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 16434)
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    product_id integer NOT NULL,
    product_name character varying,
    product_desc character varying,
    created_at timestamp without time zone,
    category character varying,
    status character varying,
    profile_image_url character varying,
    updated_at timestamp without time zone
);


ALTER TABLE public.product OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 16433)
-- Name: product_product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product ALTER COLUMN product_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 251 (class 1259 OID 16535)
-- Name: quote_items; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.quote_items (
    item_id integer NOT NULL,
    quote_id integer,
    parts_id integer,
    quantity integer,
    unit_price numeric,
    subtotal numeric
);


ALTER TABLE public.quote_items OWNER TO postgres;

--
-- TOC entry 250 (class 1259 OID 16534)
-- Name: quote_items_item_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.quote_items ALTER COLUMN item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.quote_items_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 249 (class 1259 OID 16526)
-- Name: quote_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.quote_request (
    quote_id integer NOT NULL,
    customer_id integer,
    status character varying,
    total_amount numeric,
    notes character varying,
    submitted_at timestamp without time zone,
    approved_at timestamp without time zone,
    approved_by integer
);


ALTER TABLE public.quote_request OWNER TO postgres;

--
-- TOC entry 248 (class 1259 OID 16525)
-- Name: quote_request_quote_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.quote_request ALTER COLUMN quote_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.quote_request_quote_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 16403)
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.roles (
    role_id integer NOT NULL,
    role_name character varying
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 16402)
-- Name: roles_role_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.roles ALTER COLUMN role_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.roles_role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 258 (class 1259 OID 25094)
-- Name: service_request; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_request (
    service_request_id integer NOT NULL,
    customer_id integer NOT NULL,
    machine_id integer,
    subject character varying(255) NOT NULL,
    description text,
    priority character varying(20) DEFAULT 'medium'::character varying,
    status character varying(50) DEFAULT 'pending'::character varying,
    assigned_to integer,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.service_request OWNER TO postgres;

--
-- TOC entry 260 (class 1259 OID 32876)
-- Name: service_request_assignment; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.service_request_assignment (
    id integer NOT NULL,
    service_request_id integer NOT NULL,
    employee_id integer NOT NULL,
    assigned_at timestamp with time zone DEFAULT now(),
    assigned_by integer,
    active boolean DEFAULT true
);


ALTER TABLE public.service_request_assignment OWNER TO postgres;

--
-- TOC entry 259 (class 1259 OID 32875)
-- Name: service_request_assignment_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.service_request_assignment_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.service_request_assignment_id_seq OWNER TO postgres;

--
-- TOC entry 5208 (class 0 OID 0)
-- Dependencies: 259
-- Name: service_request_assignment_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.service_request_assignment_id_seq OWNED BY public.service_request_assignment.id;


--
-- TOC entry 257 (class 1259 OID 25093)
-- Name: service_request_service_request_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.service_request_service_request_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.service_request_service_request_id_seq OWNER TO postgres;

--
-- TOC entry 5209 (class 0 OID 0)
-- Dependencies: 257
-- Name: service_request_service_request_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.service_request_service_request_id_seq OWNED BY public.service_request.service_request_id;


--
-- TOC entry 253 (class 1259 OID 16544)
-- Name: shipment_tracking; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.shipment_tracking (
    tracking_id integer NOT NULL,
    request_id integer,
    courier_type character varying,
    tracking_number character varying,
    status character varying,
    picked_up_at timestamp without time zone,
    delivered_at timestamp without time zone,
    updated_at timestamp without time zone
);


ALTER TABLE public.shipment_tracking OWNER TO postgres;

--
-- TOC entry 252 (class 1259 OID 16543)
-- Name: shipment_tracking_tracking_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.shipment_tracking ALTER COLUMN tracking_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.shipment_tracking_tracking_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4901 (class 2604 OID 25097)
-- Name: service_request service_request_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request ALTER COLUMN service_request_id SET DEFAULT nextval('public.service_request_service_request_id_seq'::regclass);


--
-- TOC entry 4906 (class 2604 OID 32879)
-- Name: service_request_assignment id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request_assignment ALTER COLUMN id SET DEFAULT nextval('public.service_request_assignment_id_seq'::regclass);


--
-- TOC entry 5195 (class 0 OID 25067)
-- Dependencies: 256
-- Data for Name: app_settings; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_settings (key, value, updated_at) FROM stdin;
storage_mode	local	2026-02-09 13:19:33.074279+08
\.


--
-- TOC entry 5166 (class 0 OID 16421)
-- Dependencies: 227
-- Data for Name: customer_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.customer_user (customer_id, first_name, last_name, middle_name, company_name, email, phone, landline, username, password, verification_status, approved, verified_at, verified_by, created_at, updated_at, initial_model_number, initial_serial_number, initial_purchase_date, initial_product_name, initial_product_id) FROM stdin;
7	Rogel	Gerodiaz	\N	Customer Company	customer@gmail.com	09467684911	\N	gerodiazrogel	$2b$10$iqtzfPEoLQGkEFDAxp.8q.xh0GfshjOVl4RkVWx87Ez/6mVsgre3G	approved	t	2026-02-02 14:10:10.646607	2	2026-02-02 14:09:57.07798	2026-02-02 14:10:10.646607	HA-PN900	44234321213	2026-02-01	Panini Baking Machine	29
8	Ronel	Talde	R	JCG Marketing Group Inc.	ronel@gmail.com	0947267284	840928942	roneltalde	$2b$12$RhrlrcvPclARnIEVeNcNFOJ888SYtszK1KysWgKl5L3kzUrZgx4ja	approved	t	2026-02-10 11:38:57.050646	2	2026-02-10 11:29:45.112685	2026-02-10 11:38:57.050646	HI=3289283	424324352343	2025-06-19	Panini Baking Machine	29
\.


--
-- TOC entry 5164 (class 0 OID 16412)
-- Dependencies: 225
-- Data for Name: department; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.department (dept_id, dept_name) FROM stdin;
1	services
2	admin
3	sales
\.


--
-- TOC entry 5193 (class 0 OID 24648)
-- Dependencies: 254
-- Data for Name: department_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.department_permission (department_id, permission_key, allowed, created_at, updated_at) FROM stdin;
2	machines_manage	t	2026-01-26 15:46:04.037739	2026-01-26 15:57:10.753949
2	machines_add	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
2	manuals_manage	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
2	brochures_manage	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
2	products_manage	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
2	tracking_manage	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
2	account_requests_manage	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
2	parts_requests_manage	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
2	quotes_manage	t	2026-01-26 15:57:10.753949	2026-01-26 15:57:10.753949
\.


--
-- TOC entry 5160 (class 0 OID 16390)
-- Dependencies: 221
-- Data for Name: employee; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.employee (employee_id, firstname, lastname, middlename, role_id, department_id, username, password, email, created_at, updated_at) FROM stdin;
5	Sales	Department	R	2	3	sales	$2b$12$Pw2OZQk/r4oE.0p48frlgOR0zEBxBKuDNKpik5NjnB34laLEpatRO	sales@gmail.com	2026-01-26 16:25:52.653681	2026-02-10 13:19:52.150458
4	Courtney	Johnston	Bradford Jaskolski	2	1	Christy_Gusikowski76	$2b$12$K0SA29XTOR50lGORHgSnY.om3yGPkQorW1oMH1K9xVropnkm1C4Ei	your.email+fakedata65415@gmail.com	2026-01-20 11:23:20.727267	2026-01-20 11:23:20.727267
2	Rogel	Gerodiaz	R.	1	2	rogel	$2b$10$iqtzfPEoLQGkEFDAxp.8q.xh0GfshjOVl4RkVWx87Ez/6mVsgre3G	rogel.gerodiaz@example.com	2026-01-16 13:50:37.972333	2026-02-24 13:39:30.235637
3	Services	Account	\N	2	1	services	$2b$10$iqtzfPEoLQGkEFDAxp.8q.xh0GfshjOVl4RkVWx87Ez/6mVsgre3G	services@example.com	2026-01-19 16:45:51.847122	2026-02-04 14:33:05.317825
\.


--
-- TOC entry 5194 (class 0 OID 24666)
-- Dependencies: 255
-- Data for Name: employee_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.employee_permission (employee_id, permission_key, allowed, created_at, updated_at) FROM stdin;
2	machines_manage	t	2026-01-26 15:51:24.053169	2026-01-26 15:51:25.27308
3	customers_manage	t	2026-02-04 14:32:57.72069	2026-02-04 14:32:57.72069
5	customers_manage	t	2026-02-04 14:29:33.476546	2026-02-04 14:42:25.535468
2	customers_manage	t	2026-02-05 13:58:51.09722	2026-02-05 13:58:51.09722
2	permissions_manage	t	2026-02-05 13:58:51.924356	2026-02-05 13:58:51.924356
5	products_manage	t	2026-01-26 16:43:09.850092	2026-02-05 13:59:41.981368
5	machines_manage	f	2026-02-05 13:59:12.842136	2026-02-05 13:59:45.059944
5	account_requests_manage	t	2026-01-26 16:53:19.635346	2026-02-10 11:30:51.896341
\.


--
-- TOC entry 5178 (class 0 OID 16481)
-- Dependencies: 239
-- Data for Name: machine_brochures; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.machine_brochures (brochure_id, machine_id, title, file_url, uploaded_at, product_id) FROM stdin;
19	29	Titan 1	brochures/1770000404343-Titan_1.pdf	2026-02-02 10:46:44.851567	30
\.


--
-- TOC entry 5176 (class 0 OID 16472)
-- Dependencies: 237
-- Data for Name: machine_gallery; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.machine_gallery (gallery_id, machine_id, image_url, caption, uploaded_at, product_id) FROM stdin;
26	27	gallery/machine_27/FRIGOMAT_CHEF_30_LCD.jpg	\N	2026-02-02 10:50:26.008086	29
27	29	gallery/machine_29/FRIGOMAT_CHEF_30_LCD.jpg	\N	2026-02-03 11:13:45.649181	30
\.


--
-- TOC entry 5174 (class 0 OID 16463)
-- Dependencies: 235
-- Data for Name: machine_manuals; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.machine_manuals (manual_id, machine_id, title, file_url, uploaded_at, product_id) FROM stdin;
15	29	Titan 3S	manuals/1770000394205-Titan_3S.pdf	2026-02-02 10:46:35.102662	30
17	\N	Certificate of Product Registration - Pistachio Kataifi Dark Chocolate Bar	1770874206671-Certificate_of_Product_Registration_-_Pistachio_Kataifi_Dark_Chocolate_Bar.pdf	2026-02-12 13:30:06.676464	29
\.


--
-- TOC entry 5182 (class 0 OID 16499)
-- Dependencies: 243
-- Data for Name: machine_specifications; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.machine_specifications (spec_id, machine_id, spec_name, spec_value, product_id, file_url, uploaded_at) FROM stdin;
29	27	fafdg	fdafrawfrw	29	\N	\N
30	27	dadgf	dadwa	29	\N	\N
32	29	dawda	fwadaw	30	\N	\N
\.


--
-- TOC entry 5180 (class 0 OID 16490)
-- Dependencies: 241
-- Data for Name: machine_videos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.machine_videos (video_id, machine_id, video_type, title, video_url, uploaded_at, product_id) FROM stdin;
56	27	gallery	Vesmach Rack Ovens	https://youtu.be/RwJE0wZgtYA?si=ftP3DqvTLg3fNJMb	2026-02-02 10:50:26.042049	29
57	27	gallery	Vesmach Super Saver Steamers	https://youtu.be/Qosoqgszog4?si=Yn3YguLSY2kzU8PJ	2026-02-02 10:50:26.042049	29
58	27	service	Three Line Siomai Machine 8.5k pcs/hr	https://youtu.be/O-6uRFWcOCc?si=Q68ph5d-vP4QK0bM	2026-02-02 10:50:26.042049	29
59	27	service	Tabletop Siomai Machine	https://youtu.be/-wPMgiIMhlY?si=oRp5lj-EhSGXfmKt	2026-02-02 10:50:26.042049	29
60	27	installation	SP-502 Planetary Mixer by Vesmach	https://youtu.be/8WSRFgeAbtM?si=NLL8FCo9zVx8JX-g	2026-02-02 10:50:26.042049	29
61	27	installation	GF401 40L Planetary Mixer by Vesmach	https://youtu.be/ViM3AE9uDlY?si=iFUe-1qk_yOWChTC	2026-02-02 10:50:26.042049	29
62	27	installation	SP-502 Planetary Mixer by Vesmach	https://youtu.be/8WSRFgeAbtM?si=NLL8FCo9zVx8JX-g	2026-02-02 10:50:26.042049	29
63	27	installation	GF401 40L Planetary Mixer by Vesmach	https://youtu.be/ViM3AE9uDlY?si=iFUe-1qk_yOWChTC	2026-02-02 10:50:26.042049	29
64	29	service	Recipe with the cream whipper KING eng.mp4	video/machine_29/service/Recipe_with_the_cream_whipper_KING_eng.mp4	2026-02-03 11:13:45.328917	30
66	29	gallery	Cream whipper KING use and washing functions eng.mp4	video/machine_29/gallery/Cream_whipper_KING_use_and_washing_functions_eng.mp4	2026-02-03 11:13:46.549977	30
67	\N	installation	 Vesmach Deck Ovens	https://youtu.be/EN3nlf9KAC8?si=rQp0HszQxN19kHYh	2026-02-09 11:41:13.94963	29
68	\N	installation	 Vesmach Deck Ovens	https://youtu.be/EN3nlf9KAC8?si=rQp0HszQxN19kHYh	2026-02-09 11:43:54.201673	30
72	\N	installation	GX8_ l'originale macchina per produrre, esporre e vendere gelato appena mantecato - Frigomat	1770614517326-GX8_l_originale_macchina_per_produrre_esporre_e_vendere_gelato_appena_mantecato_-_Frigomat.mp4	2026-02-09 13:21:57.3315	30
75	\N	service	 Vesmach Spiral Mixer MP102	https://youtu.be/caXI_z4KjFw?si=L3qCYgwExrG_9Ob-	2026-02-10 08:58:58.17819	30
\.


--
-- TOC entry 5170 (class 0 OID 16443)
-- Dependencies: 231
-- Data for Name: machines; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.machines (machine_id, customer_id, product_id, serial_number, model_number, purchase_date, registration_date, status, created_at) FROM stdin;
27	\N	29	\N	HA-PN900	\N	2026-02-02 10:50:25.292708	active	2026-02-02 10:50:25.292708
28	7	29	44234321213	HA-PN900	2026-02-01 00:00:00	2026-02-02 14:10:10.646607	active	2026-02-02 14:10:10.646607
29	\N	30	\N	3324214	\N	2026-02-03 11:13:43.26132	active	2026-02-03 11:13:43.26132
30	7	30	1324351455343	H1-39842	2025-11-04 00:00:00	2026-02-04 13:27:12.662963	active	2026-02-04 13:27:12.662963
31	7	30	4354352343	H2-42344	2024-10-17 00:00:00	2026-02-04 15:42:09.655295	active	2026-02-04 15:42:09.655295
32	8	29	424324352343	HI=3289283	2025-06-19 00:00:00	2026-02-10 11:38:57.050646	active	2026-02-10 11:38:57.050646
\.


--
-- TOC entry 5172 (class 0 OID 16454)
-- Dependencies: 233
-- Data for Name: parts; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.parts (parts_id, parts_name, product_id, description, price, stock_quantity, created_at, updated_at) FROM stdin;
\.


--
-- TOC entry 5184 (class 0 OID 16508)
-- Dependencies: 245
-- Data for Name: parts_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.parts_request (request_id, customer_id, machine_id, status, payment_verified, payment_proof_url, verified_by, call_verified, call_verified_at, total_amount, notes, created_at, updated_at) FROM stdin;
1	7	28	pending	f	\N	\N	f	\N	\N	\N	2026-02-03 10:34:13.732115	2026-02-03 10:34:13.732115
2	7	28	completed	t	\N	\N	t	\N	1250.00	\N	2026-01-26 10:34:13.732115	2026-01-27 10:34:13.732115
3	7	28	pending	f	\N	\N	f	\N	890.50	\N	2026-02-04 10:34:13.732115	2026-02-04 10:34:13.732115
4	7	28	pending	f	\N	\N	f	\N	\N	\N	2026-02-04 10:34:13.732115	2026-02-04 10:34:13.732115
5	7	30	completed	t	\N	\N	t	\N	1250.00	\N	2026-02-03 10:34:13.732115	2026-02-03 10:34:13.732115
6	7	31	pending	f	\N	\N	f	\N	890.50	\N	2026-02-02 10:34:13.732115	2026-02-02 10:34:13.732115
\.


--
-- TOC entry 5186 (class 0 OID 16517)
-- Dependencies: 247
-- Data for Name: parts_request_items; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.parts_request_items (item_id, request_id, parts_id, quantity, unit_price, subtotal) FROM stdin;
\.


--
-- TOC entry 5168 (class 0 OID 16434)
-- Dependencies: 229
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.product (product_id, product_name, product_desc, created_at, category, status, profile_image_url, updated_at) FROM stdin;
30	Deck Oven	This machine is used for breads and cookies with automatic control temperature to save on LPG or electric consumption	2026-02-03 11:13:43.26132	Oven	Active	products/1770088423239-SinglePan1DeckOven1.png	2026-02-10 09:07:33.626813
29	Panini Baking Machine	is a small countertop appliance used to grill, press, and heat sandwiches, especially panini (Italian-style pressed sandwiches). It has two heated plates (top and bottom) that close together and apply heat and pressure.	2026-02-02 10:50:25.292708	Oven	Active	products/1770000624558-Panini-Baking-Machine.png	2026-02-12 13:30:32.941616
\.


--
-- TOC entry 5190 (class 0 OID 16535)
-- Dependencies: 251
-- Data for Name: quote_items; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.quote_items (item_id, quote_id, parts_id, quantity, unit_price, subtotal) FROM stdin;
\.


--
-- TOC entry 5188 (class 0 OID 16526)
-- Dependencies: 249
-- Data for Name: quote_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.quote_request (quote_id, customer_id, status, total_amount, notes, submitted_at, approved_at, approved_by) FROM stdin;
\.


--
-- TOC entry 5162 (class 0 OID 16403)
-- Dependencies: 223
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.roles (role_id, role_name) FROM stdin;
1	Admin
2	Employee
\.


--
-- TOC entry 5197 (class 0 OID 25094)
-- Dependencies: 258
-- Data for Name: service_request; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.service_request (service_request_id, customer_id, machine_id, subject, description, priority, status, assigned_to, created_at, updated_at) FROM stdin;
1	7	31	Failing Machine	Can't turning on	medium	pending	4	2026-02-19 11:18:04.623559	2026-02-23 16:34:50.502501
\.


--
-- TOC entry 5199 (class 0 OID 32876)
-- Dependencies: 260
-- Data for Name: service_request_assignment; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.service_request_assignment (id, service_request_id, employee_id, assigned_at, assigned_by, active) FROM stdin;
\.


--
-- TOC entry 5192 (class 0 OID 16544)
-- Dependencies: 253
-- Data for Name: shipment_tracking; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.shipment_tracking (tracking_id, request_id, courier_type, tracking_number, status, picked_up_at, delivered_at, updated_at) FROM stdin;
\.


--
-- TOC entry 5210 (class 0 OID 0)
-- Dependencies: 226
-- Name: customer_user_customer_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.customer_user_customer_id_seq', 8, true);


--
-- TOC entry 5211 (class 0 OID 0)
-- Dependencies: 224
-- Name: department_dept_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.department_dept_id_seq', 2, true);


--
-- TOC entry 5212 (class 0 OID 0)
-- Dependencies: 220
-- Name: employee_employee_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.employee_employee_id_seq', 5, true);


--
-- TOC entry 5213 (class 0 OID 0)
-- Dependencies: 238
-- Name: machine_brochures_brochure_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.machine_brochures_brochure_id_seq', 20, true);


--
-- TOC entry 5214 (class 0 OID 0)
-- Dependencies: 236
-- Name: machine_gallery_gallery_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.machine_gallery_gallery_id_seq', 27, true);


--
-- TOC entry 5215 (class 0 OID 0)
-- Dependencies: 234
-- Name: machine_manuals_manual_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.machine_manuals_manual_id_seq', 17, true);


--
-- TOC entry 5216 (class 0 OID 0)
-- Dependencies: 242
-- Name: machine_specifications_spec_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.machine_specifications_spec_id_seq', 32, true);


--
-- TOC entry 5217 (class 0 OID 0)
-- Dependencies: 240
-- Name: machine_videos_video_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.machine_videos_video_id_seq', 75, true);


--
-- TOC entry 5218 (class 0 OID 0)
-- Dependencies: 230
-- Name: machines_machine_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.machines_machine_id_seq', 32, true);


--
-- TOC entry 5219 (class 0 OID 0)
-- Dependencies: 232
-- Name: parts_parts_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.parts_parts_id_seq', 1, false);


--
-- TOC entry 5220 (class 0 OID 0)
-- Dependencies: 246
-- Name: parts_request_items_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.parts_request_items_item_id_seq', 1, false);


--
-- TOC entry 5221 (class 0 OID 0)
-- Dependencies: 244
-- Name: parts_request_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.parts_request_request_id_seq', 6, true);


--
-- TOC entry 5222 (class 0 OID 0)
-- Dependencies: 228
-- Name: product_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_product_id_seq', 30, true);


--
-- TOC entry 5223 (class 0 OID 0)
-- Dependencies: 250
-- Name: quote_items_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.quote_items_item_id_seq', 1, false);


--
-- TOC entry 5224 (class 0 OID 0)
-- Dependencies: 248
-- Name: quote_request_quote_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.quote_request_quote_id_seq', 1, false);


--
-- TOC entry 5225 (class 0 OID 0)
-- Dependencies: 222
-- Name: roles_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.roles_role_id_seq', 2, true);


--
-- TOC entry 5226 (class 0 OID 0)
-- Dependencies: 259
-- Name: service_request_assignment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.service_request_assignment_id_seq', 1, false);


--
-- TOC entry 5227 (class 0 OID 0)
-- Dependencies: 257
-- Name: service_request_service_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.service_request_service_request_id_seq', 1, true);


--
-- TOC entry 5228 (class 0 OID 0)
-- Dependencies: 252
-- Name: shipment_tracking_tracking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.shipment_tracking_tracking_id_seq', 1, false);


--
-- TOC entry 4964 (class 2606 OID 25076)
-- Name: app_settings app_settings_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_settings
    ADD CONSTRAINT app_settings_pkey PRIMARY KEY (key);


--
-- TOC entry 4922 (class 2606 OID 16430)
-- Name: customer_user customer_user_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customer_user
    ADD CONSTRAINT customer_user_email_key UNIQUE (email);


--
-- TOC entry 4924 (class 2606 OID 16428)
-- Name: customer_user customer_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customer_user
    ADD CONSTRAINT customer_user_pkey PRIMARY KEY (customer_id);


--
-- TOC entry 4926 (class 2606 OID 16432)
-- Name: customer_user customer_user_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customer_user
    ADD CONSTRAINT customer_user_username_key UNIQUE (username);


--
-- TOC entry 4960 (class 2606 OID 24660)
-- Name: department_permission department_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.department_permission
    ADD CONSTRAINT department_permission_pkey PRIMARY KEY (department_id, permission_key);


--
-- TOC entry 4919 (class 2606 OID 16419)
-- Name: department department_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.department
    ADD CONSTRAINT department_pkey PRIMARY KEY (dept_id);


--
-- TOC entry 4910 (class 2606 OID 16401)
-- Name: employee employee_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_email_key UNIQUE (email);


--
-- TOC entry 4962 (class 2606 OID 24677)
-- Name: employee_permission employee_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee_permission
    ADD CONSTRAINT employee_permission_pkey PRIMARY KEY (employee_id, permission_key);


--
-- TOC entry 4912 (class 2606 OID 16397)
-- Name: employee employee_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_pkey PRIMARY KEY (employee_id);


--
-- TOC entry 4914 (class 2606 OID 16399)
-- Name: employee employee_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_username_key UNIQUE (username);


--
-- TOC entry 4942 (class 2606 OID 16488)
-- Name: machine_brochures machine_brochures_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_brochures
    ADD CONSTRAINT machine_brochures_pkey PRIMARY KEY (brochure_id);


--
-- TOC entry 4940 (class 2606 OID 16479)
-- Name: machine_gallery machine_gallery_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_gallery
    ADD CONSTRAINT machine_gallery_pkey PRIMARY KEY (gallery_id);


--
-- TOC entry 4938 (class 2606 OID 16470)
-- Name: machine_manuals machine_manuals_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_manuals
    ADD CONSTRAINT machine_manuals_pkey PRIMARY KEY (manual_id);


--
-- TOC entry 4946 (class 2606 OID 16506)
-- Name: machine_specifications machine_specifications_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_specifications
    ADD CONSTRAINT machine_specifications_pkey PRIMARY KEY (spec_id);


--
-- TOC entry 4944 (class 2606 OID 16497)
-- Name: machine_videos machine_videos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_videos
    ADD CONSTRAINT machine_videos_pkey PRIMARY KEY (video_id);


--
-- TOC entry 4932 (class 2606 OID 16450)
-- Name: machines machines_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machines
    ADD CONSTRAINT machines_pkey PRIMARY KEY (machine_id);


--
-- TOC entry 4934 (class 2606 OID 16452)
-- Name: machines machines_serial_number_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machines
    ADD CONSTRAINT machines_serial_number_key UNIQUE (serial_number);


--
-- TOC entry 4936 (class 2606 OID 16461)
-- Name: parts parts_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts
    ADD CONSTRAINT parts_pkey PRIMARY KEY (parts_id);


--
-- TOC entry 4950 (class 2606 OID 16524)
-- Name: parts_request_items parts_request_items_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts_request_items
    ADD CONSTRAINT parts_request_items_pkey PRIMARY KEY (item_id);


--
-- TOC entry 4948 (class 2606 OID 16515)
-- Name: parts_request parts_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts_request
    ADD CONSTRAINT parts_request_pkey PRIMARY KEY (request_id);


--
-- TOC entry 4928 (class 2606 OID 24617)
-- Name: product product_name_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_name_unique UNIQUE (product_name);


--
-- TOC entry 4930 (class 2606 OID 16441)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (product_id);


--
-- TOC entry 4954 (class 2606 OID 16542)
-- Name: quote_items quote_items_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.quote_items
    ADD CONSTRAINT quote_items_pkey PRIMARY KEY (item_id);


--
-- TOC entry 4952 (class 2606 OID 16533)
-- Name: quote_request quote_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.quote_request
    ADD CONSTRAINT quote_request_pkey PRIMARY KEY (quote_id);


--
-- TOC entry 4916 (class 2606 OID 16410)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (role_id);


--
-- TOC entry 4974 (class 2606 OID 32886)
-- Name: service_request_assignment service_request_assignment_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request_assignment
    ADD CONSTRAINT service_request_assignment_pkey PRIMARY KEY (id);


--
-- TOC entry 4976 (class 2606 OID 32888)
-- Name: service_request_assignment service_request_assignment_service_request_id_employee_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request_assignment
    ADD CONSTRAINT service_request_assignment_service_request_id_employee_id_key UNIQUE (service_request_id, employee_id);


--
-- TOC entry 4970 (class 2606 OID 25108)
-- Name: service_request service_request_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request
    ADD CONSTRAINT service_request_pkey PRIMARY KEY (service_request_id);


--
-- TOC entry 4956 (class 2606 OID 16551)
-- Name: shipment_tracking shipment_tracking_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shipment_tracking
    ADD CONSTRAINT shipment_tracking_pkey PRIMARY KEY (tracking_id);


--
-- TOC entry 4958 (class 2606 OID 24615)
-- Name: shipment_tracking shipment_tracking_request_id_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shipment_tracking
    ADD CONSTRAINT shipment_tracking_request_id_unique UNIQUE (request_id);


--
-- TOC entry 4920 (class 1259 OID 16659)
-- Name: dept_dept_name_key; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX dept_dept_name_key ON public.department USING btree (dept_name);


--
-- TOC entry 4965 (class 1259 OID 25127)
-- Name: idx_service_request_assigned; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_service_request_assigned ON public.service_request USING btree (assigned_to);


--
-- TOC entry 4966 (class 1259 OID 25124)
-- Name: idx_service_request_customer; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_service_request_customer ON public.service_request USING btree (customer_id);


--
-- TOC entry 4967 (class 1259 OID 25126)
-- Name: idx_service_request_machine; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_service_request_machine ON public.service_request USING btree (machine_id);


--
-- TOC entry 4968 (class 1259 OID 25125)
-- Name: idx_service_request_status; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_service_request_status ON public.service_request USING btree (status);


--
-- TOC entry 4971 (class 1259 OID 32905)
-- Name: idx_sra_employee; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_sra_employee ON public.service_request_assignment USING btree (employee_id) WHERE (active = true);


--
-- TOC entry 4972 (class 1259 OID 32904)
-- Name: idx_sra_request; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_sra_request ON public.service_request_assignment USING btree (service_request_id) WHERE (active = true);


--
-- TOC entry 4917 (class 1259 OID 16658)
-- Name: roles_role_name_key; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX roles_role_name_key ON public.roles USING btree (role_name);


--
-- TOC entry 4979 (class 2606 OID 24643)
-- Name: customer_user customer_user_initial_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customer_user
    ADD CONSTRAINT customer_user_initial_product_id_fkey FOREIGN KEY (initial_product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4980 (class 2606 OID 16562)
-- Name: customer_user customer_user_verified_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.customer_user
    ADD CONSTRAINT customer_user_verified_by_fkey FOREIGN KEY (verified_by) REFERENCES public.employee(employee_id);


--
-- TOC entry 5004 (class 2606 OID 24661)
-- Name: department_permission department_permission_department_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.department_permission
    ADD CONSTRAINT department_permission_department_id_fkey FOREIGN KEY (department_id) REFERENCES public.department(dept_id);


--
-- TOC entry 4977 (class 2606 OID 16557)
-- Name: employee employee_department_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_department_id_fkey FOREIGN KEY (department_id) REFERENCES public.department(dept_id);


--
-- TOC entry 5005 (class 2606 OID 24678)
-- Name: employee_permission employee_permission_employee_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee_permission
    ADD CONSTRAINT employee_permission_employee_id_fkey FOREIGN KEY (employee_id) REFERENCES public.employee(employee_id);


--
-- TOC entry 4978 (class 2606 OID 16552)
-- Name: employee employee_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(role_id);


--
-- TOC entry 5006 (class 2606 OID 25119)
-- Name: service_request fk_service_assigned; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request
    ADD CONSTRAINT fk_service_assigned FOREIGN KEY (assigned_to) REFERENCES public.employee(employee_id) ON DELETE SET NULL;


--
-- TOC entry 5007 (class 2606 OID 25109)
-- Name: service_request fk_service_customer; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request
    ADD CONSTRAINT fk_service_customer FOREIGN KEY (customer_id) REFERENCES public.customer_user(customer_id) ON DELETE CASCADE;


--
-- TOC entry 5008 (class 2606 OID 25114)
-- Name: service_request fk_service_machine; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request
    ADD CONSTRAINT fk_service_machine FOREIGN KEY (machine_id) REFERENCES public.machines(machine_id) ON DELETE SET NULL;


--
-- TOC entry 4988 (class 2606 OID 16592)
-- Name: machine_brochures machine_brochures_machine_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_brochures
    ADD CONSTRAINT machine_brochures_machine_id_fkey FOREIGN KEY (machine_id) REFERENCES public.machines(machine_id);


--
-- TOC entry 4989 (class 2606 OID 24623)
-- Name: machine_brochures machine_brochures_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_brochures
    ADD CONSTRAINT machine_brochures_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4986 (class 2606 OID 16587)
-- Name: machine_gallery machine_gallery_machine_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_gallery
    ADD CONSTRAINT machine_gallery_machine_id_fkey FOREIGN KEY (machine_id) REFERENCES public.machines(machine_id);


--
-- TOC entry 4987 (class 2606 OID 24628)
-- Name: machine_gallery machine_gallery_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_gallery
    ADD CONSTRAINT machine_gallery_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4984 (class 2606 OID 16582)
-- Name: machine_manuals machine_manuals_machine_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_manuals
    ADD CONSTRAINT machine_manuals_machine_id_fkey FOREIGN KEY (machine_id) REFERENCES public.machines(machine_id);


--
-- TOC entry 4985 (class 2606 OID 24618)
-- Name: machine_manuals machine_manuals_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_manuals
    ADD CONSTRAINT machine_manuals_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4992 (class 2606 OID 24683)
-- Name: machine_specifications machine_specifications_machine_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_specifications
    ADD CONSTRAINT machine_specifications_machine_id_fkey FOREIGN KEY (machine_id) REFERENCES public.machines(machine_id) ON DELETE CASCADE;


--
-- TOC entry 4993 (class 2606 OID 24638)
-- Name: machine_specifications machine_specifications_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_specifications
    ADD CONSTRAINT machine_specifications_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4990 (class 2606 OID 16597)
-- Name: machine_videos machine_videos_machine_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_videos
    ADD CONSTRAINT machine_videos_machine_id_fkey FOREIGN KEY (machine_id) REFERENCES public.machines(machine_id);


--
-- TOC entry 4991 (class 2606 OID 24633)
-- Name: machine_videos machine_videos_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machine_videos
    ADD CONSTRAINT machine_videos_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4981 (class 2606 OID 16567)
-- Name: machines machines_customer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machines
    ADD CONSTRAINT machines_customer_id_fkey FOREIGN KEY (customer_id) REFERENCES public.customer_user(customer_id);


--
-- TOC entry 4982 (class 2606 OID 16572)
-- Name: machines machines_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.machines
    ADD CONSTRAINT machines_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4983 (class 2606 OID 16577)
-- Name: parts parts_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts
    ADD CONSTRAINT parts_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 4994 (class 2606 OID 16607)
-- Name: parts_request parts_request_customer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts_request
    ADD CONSTRAINT parts_request_customer_id_fkey FOREIGN KEY (customer_id) REFERENCES public.customer_user(customer_id);


--
-- TOC entry 4997 (class 2606 OID 16627)
-- Name: parts_request_items parts_request_items_parts_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts_request_items
    ADD CONSTRAINT parts_request_items_parts_id_fkey FOREIGN KEY (parts_id) REFERENCES public.parts(parts_id);


--
-- TOC entry 4998 (class 2606 OID 16622)
-- Name: parts_request_items parts_request_items_request_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts_request_items
    ADD CONSTRAINT parts_request_items_request_id_fkey FOREIGN KEY (request_id) REFERENCES public.parts_request(request_id);


--
-- TOC entry 4995 (class 2606 OID 16612)
-- Name: parts_request parts_request_machine_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts_request
    ADD CONSTRAINT parts_request_machine_id_fkey FOREIGN KEY (machine_id) REFERENCES public.machines(machine_id);


--
-- TOC entry 4996 (class 2606 OID 16617)
-- Name: parts_request parts_request_verified_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parts_request
    ADD CONSTRAINT parts_request_verified_by_fkey FOREIGN KEY (verified_by) REFERENCES public.employee(employee_id);


--
-- TOC entry 5001 (class 2606 OID 16647)
-- Name: quote_items quote_items_parts_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.quote_items
    ADD CONSTRAINT quote_items_parts_id_fkey FOREIGN KEY (parts_id) REFERENCES public.parts(parts_id);


--
-- TOC entry 5002 (class 2606 OID 16642)
-- Name: quote_items quote_items_quote_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.quote_items
    ADD CONSTRAINT quote_items_quote_id_fkey FOREIGN KEY (quote_id) REFERENCES public.quote_request(quote_id);


--
-- TOC entry 4999 (class 2606 OID 16637)
-- Name: quote_request quote_request_approved_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.quote_request
    ADD CONSTRAINT quote_request_approved_by_fkey FOREIGN KEY (approved_by) REFERENCES public.employee(employee_id);


--
-- TOC entry 5000 (class 2606 OID 16632)
-- Name: quote_request quote_request_customer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.quote_request
    ADD CONSTRAINT quote_request_customer_id_fkey FOREIGN KEY (customer_id) REFERENCES public.customer_user(customer_id);


--
-- TOC entry 5009 (class 2606 OID 32899)
-- Name: service_request_assignment service_request_assignment_assigned_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request_assignment
    ADD CONSTRAINT service_request_assignment_assigned_by_fkey FOREIGN KEY (assigned_by) REFERENCES public.employee(employee_id);


--
-- TOC entry 5010 (class 2606 OID 32894)
-- Name: service_request_assignment service_request_assignment_employee_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request_assignment
    ADD CONSTRAINT service_request_assignment_employee_id_fkey FOREIGN KEY (employee_id) REFERENCES public.employee(employee_id) ON DELETE CASCADE;


--
-- TOC entry 5011 (class 2606 OID 32889)
-- Name: service_request_assignment service_request_assignment_service_request_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.service_request_assignment
    ADD CONSTRAINT service_request_assignment_service_request_id_fkey FOREIGN KEY (service_request_id) REFERENCES public.service_request(service_request_id) ON DELETE CASCADE;


--
-- TOC entry 5003 (class 2606 OID 16652)
-- Name: shipment_tracking shipment_tracking_request_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.shipment_tracking
    ADD CONSTRAINT shipment_tracking_request_id_fkey FOREIGN KEY (request_id) REFERENCES public.parts_request(request_id);


-- Completed on 2026-02-24 13:50:52

--
-- PostgreSQL database dump complete
--



